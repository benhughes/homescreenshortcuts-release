/**
 * @license RequireJS text 2.0.3 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

(function(){var e=function(){var e,t=function(){var t=Array.prototype.slice.call(arguments);t.splice(1,0,"--"),t[0]="["+t[0]+"]",e=e||[],e.push(t);if(console){var n=Function.prototype.bind.call(console.log,console);n.apply(console,t)}};return t};typeof define=="function"&&define.amd?define("log",[],e):module&&typeof module.exports!="undefined"&&(module.exports=e())})(),define("model.app",["log"],function(e){return Backbone.Model.extend({logPrefix:"model.app.js",url:function(){return"data/apps/"+this.id+"/"+this.id+".json"}})}),define("collection.apps",["log","model.app"],function(e,t){var n=Backbone.Collection.extend({logPrefix:"collection.apps.js",model:t,url:"data/apps/apps.json",parse:function(e){var t=[];return _.each(e,function(e){t.push(e)},this),t},initialize:function(){this.fetch(),e(this.logPrefix,"initialising with path ",this.url)}});return new n}),define("text",["module"],function(e){var t,n,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],i=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,s=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,o=typeof location!="undefined"&&location.href,u=o&&location.protocol&&location.protocol.replace(/\:/,""),a=o&&location.hostname,f=o&&(location.port||undefined),l=[],c=e.config&&e.config()||{};t={version:"2.0.3",strip:function(e){if(e){e=e.replace(i,"");var t=e.match(s);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:c.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=r[t];try{e=new ActiveXObject(n)}catch(i){}if(e){r=[n];break}}return e},parseName:function(e){var t=!1,n=e.indexOf("."),r=e.substring(0,n),i=e.substring(n+1,e.length);return n=i.indexOf("!"),n!==-1&&(t=i.substring(n+1,i.length),t=t==="strip",i=i.substring(0,n)),{moduleName:r,ext:i,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,c.isBuild&&(l[e]=r),i(r)},load:function(e,n,r,i){if(i.isBuild&&!i.inlineText){r();return}c.isBuild=i.isBuild;var s=t.parseName(e),l=s.moduleName+"."+s.ext,h=n.toUrl(l),p=c.useXhr||t.useXhr;!o||p(h,u,a,f)?t.get(h,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([l],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(l.hasOwnProperty(n)){var s=t.jsEscape(l[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.moduleName+"."+o.ext,a=r.toUrl(o.moduleName+"."+o.ext)+".js";t.load(u,r,function(n){var r=function(e){return i(a,e)};r.asModule=function(e,t){return i.asModule(e,a,t)},t.write(e,u,r,s)},s)}};if(c.env==="node"||!c.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node)n=require.nodeRequire("fs"),t.get=function(e,t){var r=n.readFileSync(e,"utf8");r.indexOf("ï»¿")===0&&(r=r.substring(1)),t(r)};else if(c.env==="xhr"||!c.env&&t.createXhr())t.get=function(e,n,r){var i=t.createXhr();i.open("GET",e,!0),c.onXhr&&c.onXhr(i,e),i.onreadystatechange=function(t){var s,o;i.readyState===4&&(s=i.status,s>399&&s<600?(o=new Error(e+" HTTP status: "+s),o.xhr=i,r(o)):n(i.responseText))},i.send(null)};else if(c.env==="rhino"||!c.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};return t}),define("text!../templates/main.html",[],function(){return'<div class="header home">\n    <h1>Homescreen shortcuts</h1>\n    <h3 class="subtitle">The things you care about within a single touch</h3>\n</div>\n<div id="appsList"></div>'}),define("text!../templates/main.apps.html",[],function(){return'<h2>Supported Apps</h2>\n<ul class="appList list-unstyled">\n    {{#each apps}}\n    <li><a href="#app-view/{{id}}"><img src="{{imageURL}}" /><span class="appName">{{name}}</span></a></li>\n    {{/each}}\n</ul>'}),define("text!../templates/shortcut.html",[],function(){return'<!DOCTYPE html>\n<html>\n<head>\n    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">\n    <meta name="apple-mobile-web-app-capable" content="yes">\n    <title>{{shortcut.name}}</title>\n    <script type="text/javascript">\n        if (!window.navigator.standalone) {\n            document.write("<link rel=\'apple-touch-icon-precomposed\' href=\'{{imageURL}}\' />");\n        }\n    </script>\n    <style>\n        body {\n            background-color: #E7E7E7;\n            margin: 0;\n            font-family: Helvetica, sans-serif;\n        }\n        #shortcutNotActive {\n            display:none;\n            text-align: center\n        }\n        #shortcutActive {\n            display:none;\n        }\n        #shortcutImage img{\n            border-radius:20px;\n            display:block;\n            margin: 20px auto;\n            width: 50%;\n        }\n        #addToHomeScreen {\n            position: absolute;\n            bottom: 5px;\n            width: 100%;\n\n        }\n        #addToHomeScreen #instructions {\n            width: 200px;\n            margin: 0 auto;\n            color: #428bca;\n            padding: 20px;\n            background-color: #fff;\n        }\n        .d-arrow {\n            margin: -1px auto;\n            width: 0;\n            height: 0;\n            border-left: 20px solid transparent;\n            border-right: 20px solid transparent;\n            border-top: 20px solid #fff;\n        }\n        .share-button {\n            background-image: url(data:image/png;base64,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);\n            width: 23px;\n            height: 1em;\n            display: inline-block;\n            background-size: 22px;\n            background-repeat: no-repeat;         }\n\n    </style>\n    <link rel="apple-touch-icon-precomposed" href="{{imageURL}}">\n</head>\n<body>\n    <a id="shortcut" href="{{shortcut.action}}"></a>\n    <div id="shortcutActive">\n        <p>launching shortcut {{shortcut.name}}</p>\n    </div>\n    <div id="shortcutNotActive">\n        <a id="shortcutImage" href="{{shortcut.action}}">\n            <img src="{{imageURL}}">\n        </a>\n        <div id="addToHomeScreen">\n            <div id="instructions">\n                To Create a shortcut to <strong>{{shortcut.name}}</strong> tap <strong>share</strong> <span class="share-button"></span> and then <strong>Add to\n                Home Screen.</strong>\n            </div>\n            <div class=\'d-arrow\'></div>\n        </div>\n    </div>\n    <script type="text/javascript">\n        var a;\n        if (window.navigator.standalone) {\n            a = document.getElementById("shortcutActive");\n            a.style.display = "block";\n            var e= document.getElementById("shortcutImage");\n            if (e.href.match(/\\[prompt\\]/)) {\n                e.href = encodeURI(e.href.replace(/\\[prompt\\]/, prompt(\'Enter a string\')));\n            }\n            var ev= document.createEvent("MouseEvents");\n            ev.initEvent("click",true,true);\n            e.dispatchEvent(ev);\n        } else {\n            a = document.getElementById("shortcutNotActive");\n            a.style.display = "block";\n        }\n    </script>\n</body>\n</html>'}),define("view.main",["log","collection.apps","text!../templates/main.html","text!../templates/main.apps.html","text!../templates/shortcut.html"],function(e,t,n,r,i){return Backbone.View.extend({logPrefix:"views.main",className:"main",$mainContainer:null,collectionApps:t,templates:{mainTemplate:Handlebars.compile(n),appsTemplate:Handlebars.compile(r),shortcutTemplate:Handlebars.compile(i)},cache:{appList:""},initialize:function(){e(this.logPrefix,"initializing..."),this.$mainContainer=$("#mainContainer"),this.bindEvents(),this.render()},events:{},bindEvents:function(){this.collectionApps.on("add",$.proxy(this.renderAppList,this)),this.collectionApps.on("change",$.proxy(this.renderAppList,this))},render:function(){var e={};this.el.innerHTML=this.templates.mainTemplate(e),this.$mainContainer.html(this.el),this.renderAppList()},renderAppList:function(){var e={apps:this.collectionApps.toJSON()},t=this.templates.appsTemplate(e);t!==this.cache.appList&&$("#appsList").html(t)},handleAppLinkCLick:function(t){var n=$(t.target).data(),r,i;t.preventDefault(),e(this.logPrefix,"detecting click on app link"),r=this.prepareShortcutData(n),i="data:text/html;charset=UTF-8,"+this.templates.shortcutTemplate(r),console.log(r),console.log(i),location.href=i},prepareShortcutData:function(e){var t;if(e.shortcutId===undefined&&e.appId===undefined)throw"no shortcut-id or/and app-id in the element";return t=this.collectionApps.get(e.appId).toJSON(),t.shortcut=t.shortcuts[e.shortcutId],t.imageURL=location.origin+t.imageURL,t}})}),define("utils",[],function(){return{isURI:function(e){return typeof e=="string"&&e.match("://")!==null},navigateTo:function(e){location.href=e},convertParamsToObject:function(e){var t={},n,r=typeof e=="string"?e.split(/&(?!(?:apos|quot|[gl]t|amp);|#)/):[];for(n=0;n<r.length;n++){var i=r[n].split("=");i.length===2?t[i[0]]=i[1]:i.length>2&&(t[i.reverse().pop()]=i.reverse().join("="))}return t}}}),define("text!../templates/single.app.html",[],function(){return'<div id="singleAppContainer">\n\n    <div class="header singleApp">\n        <img class="appIcon mediumSize" title="{{name}}" alt="{{name}}" src="{{imageURL}}" />\n        <h1>{{name}}</h1>\n    </div>\n\n    <h3>Shortcuts</h3>\n    {{#if shortcuts}}\n    <ul class="shortCuts list">\n        {{#each shortcuts}}\n        <li class="shortcut" data-shortcut-id="{{id}}">\n            <span class="appName">{{name}}</span>\n            <span class="shortcutDescription">{{description}}</span>\n            {{#if custom}}\n            <h4>Options</h4>\n            <ul class="optionsList">\n            {{#each custom}}\n                {{{customBuilder this @index}}}\n            {{/each}}\n            </ul>\n            <div class="shortCutActions">\n                <a data-shortcut-id="{{id}}" data-app-id="{{../../id}}" class="customShortcutSubmit testShortcut btn btn-link" href="{{action}}">Try shortcut</a>\n                <a data-shortcut-id="{{id}}" data-app-id="{{../../id}}" class="customShortcutSubmit createShortcut btn btn-primary" href="{{action}}">Create shortcut</a>\n            </div>\n            {{else}}\n            <div class="shortCutActions">\n                <a data-shortcut-id="{{id}}" data-app-id="{{../../id}}" class="testShortcut btn btn-link" href="{{action}}">Try shortcut</a>\n                <a data-shortcut-id="{{id}}" data-app-id="{{../../id}}" class="editShortcut btn btn-link" href="/#custom-shortcut/action={{encode action}}">Edit</a>\n                <a data-shortcut-id="{{id}}" data-app-id="{{../../id}}" class="staticShortcutSubmit createShortcut btn btn-primary" href="{{action}}">Create shortcut</a>\n            </div>\n            {{/if}}\n        </li>\n        {{/each}}\n    </ul>\n    {{else}}\n    <span class="no-shortcuts">{{../name}} has no shortcuts at present</span>\n    {{/if}}\n</div>'}),define("view.app",["require","utils","log","model.app","collection.apps","text!../templates/single.app.html","text!../templates/shortcut.html"],function(e){var t=e("utils"),n=e("log");return Backbone.View.extend({logPrefix:"views.app",className:"main",appModel:null,$mainContainer:null,collectionApps:null,customSettings:{},templates:{},cache:{},initialize:function(){var t=e("model.app");n(this.logPrefix,"initializing with id",this.id),this.el=$("#mainContainer").addClass("loading"),this.appModel=new t({id:this.id}),this.collectionApps=e("collection.apps"),this.setUpTemplates(),this.appModel.fetch(),this.render(),this.bindEvents()},setUpTemplates:function(){this.templates.singleAppTemplate=Handlebars.compile(e("text!../templates/single.app.html")),this.templates.shortcutTemplate=Handlebars.compile(e("text!../templates/shortcut.html")),this.cache.singleAppTemplate="",this.cache.shortcutTemplate=""},bindEvents:function(){this.appModel.on("change",$.proxy(this.render,this)),this.el.on("click","ul.shortCuts a.createShortcut",$.proxy(this.handleAppLinkCLick,this)).on("change","ul.optionsList input",$.proxy(this.handleOptionChange,this))},render:function(){var e,t;e=this.appModel.toJSON(),t=this.templates.singleAppTemplate(e),t!==this.cache.singleAppTemplate&&(this.el[0].innerHTML=t,this.cache.singleAppTemplate=t)},handleAppLinkCLick:function(e){n(this.logPrefix,"handleAppLinkCLick");var r=$(e.target).data(),i,s;e.preventDefault(),n(this.logPrefix,"detecting click on app link"),i=this.prepareShortcutData(r),s="data:text/html;charset=UTF-8,"+this.templates.shortcutTemplate(i),t.navigateTo(s)},generateCustomShortCuts:function(e){var t=e.shortcut;console.log(e);if(t.action.match("{{(.*?)}}")){var n=Handlebars.compile(t.action),r=this.customSettings[t.id]||{};t.action=n(r)}return e},prepareShortcutData:function(e){var t;if(e.shortcutId===undefined&&e.appId===undefined)throw"no shortcut-id or/and app-id in the element";return t=this.collectionApps.get(e.appId).toJSON(),t.shortcut=t.shortcuts[e.shortcutId],t.imageURL=location.origin+t.imageURL,t=this.generateCustomShortCuts(t),t},handleOptionChange:function(e){n(this.logPrefix,"change detected");var t=$(e.target),r=t.data("customid"),i=t.closest("li.shortcut").data("shortcut-id");this.customSettings[i]?this.customSettings[i][r]=t.val():(this.customSettings[i]={},this.customSettings[i][r]=t.val())}})}),define("text!../templates/customShortcutView.html",[],function(){return'<h2>Create your own</h2>\n<p>Shortcut you want not on the list? Why not create your own. All you need to know is the URI you want\n<em>(e.g. to open up the <a href="#app-view/instagram">instagram</a> apps camera the data URI is instagram://camera)</em></p>\n\n<input class="custom customText form-control shortcut-uri" placeholder="URI (e.g. instagram://camera)" type="text" value="{{action}}">\n\n<div>\n    <a class="testShortcut btn btn-link" href="#">Try shortcut</a>\n    <a class="staticShortcutSubmit createShortcut btn btn-primary" href="#">Create shortcut</a>\n</div>\n'}),define("view.custom.shortcut",["log","utils","text!../templates/customShortcutView.html","text!../templates/shortcut.html"],function(e,t,n,r){return Backbone.View.extend({logPrefix:"view.custom.shortcut",$mainContainer:null,defaultImageShortcutUrl:"/img/app-icons/instagram-175x175.jpg",templates:{customShortcutTemplate:Handlebars.compile(n),shortcutTemplate:Handlebars.compile(r)},events:{"click a.createShortcut":"handleAppLinkCLick","change input.shortcut-uri":"handleOptionChange"},initialize:function(){e(this.logPrefix,"initializing...."),this.$mainContainer=$("#mainContainer").addClass("loading"),this.render()},render:function(){var e={action:""},t=$.extend(e,this.options.urlParams?this.options.urlParams:{});this.el.innerHTML=this.templates.customShortcutTemplate(t),this.$mainContainer.html(this.el)},handleAppLinkCLick:function(n){var r=$(this.el).find("input.shortcut-uri").val();e(this.logPrefix,"user is creating a custom shortcut using ",r),n.preventDefault(),t.isURI(r)?this.navigateToShortcutPage(r):alert(r+" is not a URI")},navigateToShortcutPage:function(n){var r=this.generateShortcutData(n),i="data:text/html;charset=UTF-8,"+this.templates.shortcutTemplate(r);e(this.logPrefix,"navigating user to shortcut page",i),t.navigateTo(i)},generateShortcutData:function(e){return{imageURL:location.origin+this.defaultImageShortcutUrl,shortcut:{name:"custom",action:e}}},handleOptionChange:function(e){var t=$(e.target).val();$(this.el).find("a.testShortcut").attr("href",t)}})}),define("router",["log"],function(e){var t="router";return Backbone.Router.extend({routes:{"":"main",home:"main","app-view/:id":"appView","custom-shortcut":"customShortcutView","custom-shortcut/*path":"customShortcutViewParams"},main:function(){e(t,"Navigating to main"),require(["view.main"],function(e){new e})},appView:function(n){e(t,"Navigating to app",n),require(["view.app"],function(e){new e({id:n})})},customShortcutView:function(){e(t,"navigating to custom shortcut creation view"),require(["view.custom.shortcut"],function(e){new e})},customShortcutViewParams:function(n){e(t,"navigating to custom shortcut creation view with params",n),require(["view.custom.shortcut","utils"],function(e,t){new e({urlParams:t.convertParamsToObject(n)})})},initialize:function(){e(t,"initializing Router"),Backbone.history.start()}})}),function(){require.config({paths:{text:"lib/require/plugins/text"},baseUrl:"js",shim:{}}),require(["log","router"],function(e,t){var n="main.js";e(n,"initialising..."),new t})}(),define("main",function(){});